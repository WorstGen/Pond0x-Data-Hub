<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dune Analytics Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0F1419 0%, #1a1f36 50%, #2d3748 100%);
            color: #e2e8f0;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #a78bfa;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #10b981;
            margin-bottom: 0.5rem;
        }

        .metric-label {
            opacity: 0.7;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 1rem;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .data-table th,
        .data-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .data-table th {
            background: rgba(255, 255, 255, 0.05);
            font-weight: 600;
            color: #a78bfa;
        }

        .data-table tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 200px;
            font-size: 1.1rem;
            opacity: 0.7;
        }

        .update-info {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ðŸŒŒ Dune Analytics Dashboard</h1>
            <p>Your blockchain data visualized with style and elegance</p>
        </header>

        <div class="dashboard-grid">
            <!-- Key Metrics Card -->
            <div class="card">
                <h3>ðŸ“Š Key Metrics</h3>
                <div id="key-metrics">
                    <div style="margin-bottom: 1.5rem;">
                        <div class="metric-value" id="total-volume">$0</div>
                        <div class="metric-label">Total Volume</div>
                    </div>
                    <div style="margin-bottom: 1.5rem;">
                        <div class="metric-value" id="total-transactions">0</div>
                        <div class="metric-label">Total Transactions</div>
                    </div>
                    <div>
                        <div class="metric-value" id="unique-users">0</div>
                        <div class="metric-label">Unique Users</div>
                    </div>
                </div>
            </div>

            <!-- Chart Card -->
            <div class="card">
                <h3>ðŸ“ˆ Volume Over Time</h3>
                <div class="chart-container">
                    <canvas id="volumeChart"></canvas>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="card" style="grid-column: 1 / -1;">
                <h3>âš¡ Recent Activity</h3>
                <div style="overflow-x: auto;">
                    <table class="data-table" id="recent-activity">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>User</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="4" class="loading">Loading data...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="update-info">
            <p>Last updated: <span id="last-update">Never</span></p>
            <button class="btn" onclick="loadDuneData()">ðŸ”„ Refresh Data</button>
        </div>
    </div>

    <script>
        // Sample data - replace this with your actual Dune API calls
        const sampleData = {
            totalVolume: 1234567.89,
            totalTransactions: 45678,
            uniqueUsers: 12345,
            chartData: [
                { date: '2024-01-01', volume: 100000 },
                { date: '2024-01-02', volume: 150000 },
                { date: '2024-01-03', volume: 120000 },
                { date: '2024-01-04', volume: 180000 },
                { date: '2024-01-05', volume: 200000 },
                { date: '2024-01-06', volume: 250000 },
                { date: '2024-01-07', volume: 300000 }
            ],
            recentActivity: [
                { date: '2024-01-07 14:30', type: 'Swap', amount: '$1,234', user: '0x1234...5678' },
                { date: '2024-01-07 14:25', type: 'Transfer', amount: '$567', user: '0xabcd...efgh' },
                { date: '2024-01-07 14:20', type: 'Mint', amount: '$890', user: '0x9876...5432' },
                { date: '2024-01-07 14:15', type: 'Burn', amount: '$345', user: '0xfedc...ba98' }
            ]
        };

        // Initialize chart
        let volumeChart;

        function formatNumber(num) {
            if (num >= 1000000) {
                return '$' + (num / 1000000).toFixed(2) + 'M';
            } else if (num >= 1000) {
                return '$' + (num / 1000).toFixed(2) + 'K';
            }
            return '$' + num.toLocaleString();
        }

        function updateMetrics(data) {
            document.getElementById('total-volume').textContent = formatNumber(data.totalVolume);
            document.getElementById('total-transactions').textContent = data.totalTransactions.toLocaleString();
            document.getElementById('unique-users').textContent = data.uniqueUsers.toLocaleString();
        }

        function updateChart(data) {
            const ctx = document.getElementById('volumeChart').getContext('2d');
            
            if (volumeChart) {
                volumeChart.destroy();
            }

            volumeChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.chartData.map(item => new Date(item.date).toLocaleDateString()),
                    datasets: [{
                        label: 'Volume',
                        data: data.chartData.map(item => item.volume),
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#10b981',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e2e8f0',
                                callback: function(value) {
                                    return formatNumber(value);
                                }
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e2e8f0'
                            }
                        }
                    }
                }
            });
        }

        function updateRecentActivity(data) {
            const tbody = document.querySelector('#recent-activity tbody');
            tbody.innerHTML = '';

            data.recentActivity.forEach(activity => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${activity.date}</td>
                    <td><span style="padding: 4px 8px; background: rgba(168, 139, 250, 0.2); border-radius: 4px; font-size: 0.8rem;">${activity.type}</span></td>
                    <td style="color: #10b981; font-weight: 600;">${activity.amount}</td>
                    <td style="font-family: monospace; font-size: 0.9rem;">${activity.user}</td>
                `;
            });
        }

        function loadDuneData() {
            // This is where you'll replace with actual Dune API calls
            // For now, we'll use sample data
            updateMetrics(sampleData);
            updateChart(sampleData);
            updateRecentActivity(sampleData);
            
            document.getElementById('last-update').textContent = new Date().toLocaleString();
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadDuneData();
        });

        // Add some animation on scroll
        window.addEventListener('scroll', function() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }
            });
        });
    </script>
</body>
</html>
